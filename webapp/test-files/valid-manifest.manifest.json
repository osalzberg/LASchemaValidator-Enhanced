{
  "type": "Microsoft.Resources/TestResource",
  "displayName": "Test Resource Provider",
  "description": "Test resource provider for demonstration purposes.",
  "simplifiedSchemaVersion": "3",
  "icmTeam": "ApplicationInsights/Kusto-LogAnalyticsBackend",
  "contactDL": "test@microsoft.com",
  "tags": {},
  "properties": {},
  "relatedTables": [],
  "relatedFunctions": [],
  "tables": [
    {
      "name": "TestTable",
      "description": "Test table for validation demonstration.",
      "categories": ["audit"],
      "dataTypeId": "TESTRESOURCE_LOGS",
      "artifactVersion": 1,
      "tableState": "Validation",
      "isTroubleshootingAllowed": true,
      "isLakeAllowed": true,
      "input": [
        {
          "name": "time",
          "type": "DateTime"
        },
        {
          "name": "operationName",
          "type": "String"
        },
        {
          "name": "properties",
          "type": "String"
        }
      ],
      "transformFilePath": "KQL/TestTransform.kql",
      "columns": [
        {
          "name": "TimeGenerated",
          "description": "Timestamp when the event was generated by the Azure service.",
          "type": "DateTime",
          "isDefaultDisplay": true
        },
        {
          "name": "OperationName",
          "description": "Name of the operation that was performed.",
          "type": "String",
          "isDefaultDisplay": true
        },
        {
          "name": "Properties",
          "description": "Additional properties of the event in JSON format.",
          "type": "String",
          "isDefaultDisplay": true
        }
      ],
      "sampleInputRecordsFilePath": "SampleInputRecords/TestSample.json",
      "sampleOutputRecordsFilePath": "SampleOutputRecords/TestSample.json",
      "isResourceCentric": true,
      "intelligencePacks": ["LogManagement"]
    }
  ],
  "functions": [
    {
      "name": "GetTestEvents",
      "parameters": "startTime:datetime, endTime:datetime",
      "displayName": "Get Test Events",
      "description": "Retrieves test events within a specified time range.",
      "bodyFilePath": "KQL/GetTestEventsFunction.kql",
      "categories": ["audit"],
      "related": {
        "tables": ["TestTable"]
      },
      "tags": {},
      "properties": {}
    }
  ],
  "queries": [
    {
      "id": "12345678-1234-1234-1234-123456789012",
      "displayName": "Recent Test Events",
      "description": "Shows the most recent test events from the last hour.",
      "bodyFilePath": "KQL/RecentEventsQuery.kql",
      "categories": ["audit"],
      "related": {
        "tables": ["TestTable"]
      },
      "tags": {
        "Topic": ["performance"]
      },
      "properties": {}
    }
  ]
}
